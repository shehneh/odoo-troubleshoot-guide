<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ØªØ³Øª Ø¬Ø³ØªØ¬Ùˆ</title>
    <style>
        body { font-family: Tahoma; padding: 20px; background: #f5f5f5; }
        .search { padding: 15px; background: white; border-radius: 10px; margin-bottom: 20px; }
        input { width: 100%; padding: 10px; font-size: 16px; border: 2px solid #ddd; border-radius: 5px; }
        .result { background: white; padding: 15px; margin: 10px 0; border-radius: 10px; border-right: 4px solid #3498db; }
        .result h3 { margin: 0 0 10px 0; color: #2c3e50; }
        .result p { margin: 5px 0; color: #666; }
        .highlight { background: yellow; padding: 2px 5px; }
    </style>
</head>
<body>
    <h1>ğŸ” ØªØ³Øª Ø¬Ø³ØªØ¬ÙˆÛŒ Ø®Ø·Ø§Ù‡Ø§</h1>
    
    <div class="search">
        <input type="text" id="search" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ú©Ù†ÛŒØ¯: Something went wrong" value="Something went wrong">
    </div>
    
    <div id="results"></div>
    
    <script>
        let errors = [];
        
        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ JSON
        fetch('errors.json')
            .then(r => r.json())
            .then(data => {
                errors = data;
                console.log('âœ… ' + errors.length + ' Ø®Ø·Ø§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
                search();
            })
            .catch(err => {
                document.getElementById('results').innerHTML = '<p style="color:red;">âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ: ' + err + '</p>';
            });
        
        // Ø¬Ø³ØªØ¬Ùˆ
        function search() {
            const query = document.getElementById('search').value.toLowerCase();
            const results = document.getElementById('results');
            
            if (!query) {
                results.innerHTML = '<p>Ù„Ø·ÙØ§Ù‹ Ú†ÛŒØ²ÛŒ Ø¬Ø³ØªØ¬Ùˆ Ú©Ù†ÛŒØ¯</p>';
                return;
            }
            
            const found = errors.filter(e => {
                const text = JSON.stringify(e).toLowerCase();
                return text.includes(query);
            });
            
            if (found.length === 0) {
                results.innerHTML = '<p style="color:red;">âŒ Ù‡ÛŒÚ† Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯ Ø¨Ø±Ø§ÛŒ: <strong>' + query + '</strong></p>';
            } else {
                results.innerHTML = '<p style="color:green;">âœ… ' + found.length + ' Ù†ØªÛŒØ¬Ù‡ ÛŒØ§ÙØª Ø´Ø¯:</p>';
                found.forEach(e => {
                    results.innerHTML += `
                        <div class="result">
                            <h3>${e.title}</h3>
                            <p><strong>ID:</strong> ${e.id}</p>
                            <p><strong>Ù†ÙˆØ¹:</strong> ${e.type}</p>
                            <p><strong>Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ:</strong> ${e.keywords.join(', ')}</p>
                            <p><strong>ØªÙˆØ¶ÛŒØ­:</strong> ${e.description}</p>
                        </div>
                    `;
                });
            }
        }
        
        document.getElementById('search').addEventListener('input', search);
    </script>
</body>
</html>
